<form>
    {{#if isRanged}}
    <div class="form-group">
        <label>Firing Mode:</label>
        <select name="mode">
            {{#each modes as |val index|}}
            <option value="{{index}}">
                {{#if (or (eq val "Auto") (gte val 10))}}Full Auto ({{val}}){{else}}
                {{#if (eq val 1)}}Single Shot (1){{else}}Burst ({{val}}){{/if}}{{/if}}
            </option>
            {{/each}}
        </select>
    </div>

    <div class="form-group">
        <label>Range (Dist: {{targetDist}}):</label>
        <select name="range">
            {{selectOptions rangeOptions selected=suggestedRange}}
        </select>
    </div>
    {{else}}
    <div class="form-group">
        <label>Attack Type:</label>
        <div style="padding: 5px; font-weight: bold; text-align: center; background: rgba(0,0,0,0.2); border-radius: 4px;">
            {{#if (eq suggestedRange "out")}}
                <span style="color: #ff4a4a;"><i class="fas fa-exclamation-triangle"></i> Out of Range ({{targetDist}})</span>
            {{else}}
                Melee Attack
            {{/if}}
        </div>
    </div>
    {{/if}}

    <div class="form-group">
        <label>Aiming / Called Shot:</label>
        <select name="location">
            <option value="random">Random Location</option>
            <option value="torso">Torso (-1)</option>
            <option value="head">Head (-3)</option>
            <option value="rArm">Right Arm (-2)</option>
            <option value="lArm">Left Arm (-2)</option>
            <option value="rLeg">Right Leg (-2)</option>
            <option value="lLeg">Left Leg (-2)</option>
        </select>
    </div>
    
    {{#if (and isRanged hasAmmo)}}
    <div class="form-group">
        <label>Ammo Remaining: {{ammo}}</label>
    </div>
    {{/if}}
</form>